<div class="container">
  <div class="card shadow mb-4">
    <div class="card-body">
      <table class="table table-striped">
        @if (movies?.length!=0) {
        <tr>
          <th>N°</th>
          <th>Id</th>
          <th>Nom</th>
          <th>Prix</th>
          <th>Date Création</th>
          <th>Genre</th> <!-- Add this column -->
          <th>Actions</th>
        </tr>
        }
        @for (movie of movies; track movie.idMovie; let pos=$index; let nbr=$count; let last=$last) {
        <tbody>
          <tr>
            <td>{{ pos + 1 }}</td>
            <td>{{ movie.idMovie }}</td>
            <td>{{ movie.nomMovie }}</td>
            <td>{{ movie.prixMovie }}</td>
            <td>{{ movie.dateCreation | date : 'dd/MM/yyyy' }}</td>
            <td>{{ movie.genre?.nomGenre }}</td> <!-- Display genre name -->
            <td><a class="btn btn-danger" (click)="supprimerMovie(movie)">Supprimer</a></td>
            <td><a class="btn btn-success" [routerLink]="['/updateMovie',movie.idMovie]">Modifier</a></td>
          </tr>
        </tbody>
        @if(last) {<h1>Nombre: {{nbr}}</h1>}
        }
        @empty {<h1>Aucun Movie trouvé !</h1>}
      </table>
    </div>
  </div>
</div>
<router-outlet></router-outlet>